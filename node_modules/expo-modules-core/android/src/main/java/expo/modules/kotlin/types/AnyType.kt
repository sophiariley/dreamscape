package expo.modules.kotlin.types

<<<<<<< HEAD
<<<<<<< HEAD
import expo.modules.kotlin.jni.ExpectedType
=======
>>>>>>> origin/Sophia's-branch
=======
>>>>>>> origin
import kotlin.reflect.KType

fun KType.toAnyType(): AnyType = AnyType(this)

class AnyType(val kType: KType) {
  private val converter: TypeConverter<*> by lazy {
    TypeConverterProviderImpl.obtainTypeConverter(kType)
  }

  fun convert(value: Any?): Any? = converter.convert(value)

<<<<<<< HEAD
<<<<<<< HEAD
  fun getCppRequiredTypes(): ExpectedType = converter.getCppRequiredTypes()
=======
  fun getCppRequiredTypes(): Int = converter.getCppRequiredTypes().fold(0) { acc, current -> acc or current.value }
>>>>>>> origin/Sophia's-branch
=======
  fun getCppRequiredTypes(): Int = converter.getCppRequiredTypes().fold(0) { acc, current -> acc or current.value }
>>>>>>> origin
}
